!function(n,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("mithril")):"function"==typeof define&&define.amd?define(["exports","mithril"],t):t((n=n||self).mithrilHookup=n.mithrilHookup||{},n.m)}(this,function(n,t){"use strict";function r(n,t,r){return t in n?Object.defineProperty(n,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[t]=r,n}function e(n){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{},o=Object.keys(e);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(e).filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),o.forEach(function(t){r(n,t,e[t])})}return n}function o(n,t){return function(n){if(Array.isArray(n))return n}(n)||function(n,t){var r=[],e=!0,o=!1,u=void 0;try{for(var i,f=n[Symbol.iterator]();!(e=(i=f.next()).done)&&(r.push(i.value),!t||r.length!==t);e=!0);}catch(n){o=!0,u=n}finally{try{e||null==f.return||f.return()}finally{if(o)throw u}}return r}(n,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function u(n){return function(n){if(Array.isArray(n)){for(var t=0,r=new Array(n.length);t<n.length;t++)r[t]=n[t];return r}}(n)||function(n){if(Symbol.iterator in Object(n)||"[object Arguments]"===Object.prototype.toString.call(n))return Array.from(n)}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}t=t&&t.hasOwnProperty("default")?t.default:t;var i=function(n,r){return function(){var i=!1,c=[],a=0,l=[],s=0,y=[],p=new Map,v=t.redraw,h=function(n){var t=s++,r=l[t]||[],e=void 0===n||!!Array.isArray(n)&&(n.length>0?!n.every(function(n,t){return n===r[t]}):!i);return l[t]=n,e},d=function(){var n=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(t,r){if(h(r)){var e=function(){var n=t();"function"==typeof n&&(p.set(t,n),p.set("_",v))};y.push(n?function(){return new Promise(function(n){return requestAnimationFrame(n)}).then(e)}:e)}}},b=function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(n){return n},r=a++;return i||(c[r]=n),[c[r],function(n){var e=c[r],o=t(n,r);c[r]=o,o!==e&&v()}]},m=function(n,t){var r=h(t),e=o(i?b():b(n()),2),u=e[0],f=e[1];return i&&r&&f(n()),u},w={useState:function(n){return b(n,function(n,t){return"function"==typeof n?n(c[t]):n})},useEffect:d(!0),useLayoutEffect:d(),useReducer:function(n,t,r){var e=!i&&r?r(t):t,u=o(b(e),2),f=u[0],c=u[1];return[f,function(t){return c(n(f,t))}]},useRef:function(n){return o(b({current:n}),1)[0]},useMemo:m,useCallback:function(n,t){return m(function(){return n},t)}},g=e({},w,r&&r(w)),O=function(){y.forEach(f),y.length=0,s=0,a=0};return{view:function(t){return n(t,g)},oncreate:function(){return O(),i=!0},onupdate:O,onremove:function(){u(p.values()).forEach(f)}}}},f=Function.prototype.call.bind(Function.prototype.call);n.hookup=i,n.withHooks=function(n,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return function(n){return i(function(t,r){return n(e({},t.attrs,r))})}(function(o){var u=null!=t?t(o):{};return n(e({},o,u,r))})},Object.defineProperty(n,"__esModule",{value:!0})});
//# sourceMappingURL=mithril-hookup.js.map
