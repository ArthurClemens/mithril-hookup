<html>
<body>
  <div id="root"></div>
  <script src="./js/mithril@1.1.6.js"></script>
  <script src="../../node_modules/mithril-hookup/dist/mithril-hookup.js"></script>
  <script>
const hookup = mithrilHookup.hookup;

const DomElementRef = hookup((vnode, { useRef }) => {
  const domElement = useRef();

  return m("[data-test-id=DomElementRef]", [
    m("h2", "DomElementRef"),
    m("div", 
      {
        oncreate: vnode => domElement.current = vnode.dom,
      },
      "QWERTY"
    ),
    m("p", [
      m("span", "element text: "),
      m("span[data-test-id=textContent]", domElement.current && domElement.current.textContent)
    ]),
    m("button[data-test-id=render]", 
      { onclick: () => {} },
      "Trigger render"
    ),
  ]);
});

const App = {
  view: () => [
    m(DomElementRef),
  ]
}

m.mount(
  document.querySelector("#root"),
  App
);

  </script>
</body>
</html>
