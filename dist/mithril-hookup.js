!function(n,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((n=n||self).mithrilHookup=n.mithrilHookup||{})}(this,function(n){"use strict";function t(n,t,r){return t in n?Object.defineProperty(n,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[t]=r,n}function r(n,t){return function(n){if(Array.isArray(n))return n}(n)||function(n,t){var r=[],e=!0,o=!1,u=void 0;try{for(var i,c=n[Symbol.iterator]();!(e=(i=c.next()).done)&&(r.push(i.value),!t||r.length!==t);e=!0);}catch(n){o=!0,u=n}finally{try{e||null==c.return||c.return()}finally{if(o)throw u}}return r}(n,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function e(n){return function(n){if(Array.isArray(n)){for(var t=0,r=new Array(n.length);t<n.length;t++)r[t]=n[t];return r}}(n)||function(n){if(Symbol.iterator in Object(n)||"[object Arguments]"===Object.prototype.toString.call(n))return Array.from(n)}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var o=Function.prototype.call.bind(Function.prototype.call);n.hookup=function(n,u){return function(){var i=!1,c=[],f=0,a=[],l=0,y=[],s=new Map,p=m.redraw,v=function(n){var t=l++,r=a[t]||[],e=void 0===n||!!Array.isArray(n)&&(n.length>0?!n.every(function(n,t){return n===r[t]}):!i);return a[t]=n,e},d=function(){var n=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(t,r){if(v(r)){var e=function(){var n=t();"function"==typeof n&&(s.set(t,n),s.set("_",p))};y.push(n?function(){return new Promise(function(n){return requestAnimationFrame(n)}).then(e)}:e)}}},b=function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(n){return n},r=f++;return i||(c[r]=n),[c[r],function(n){var e=c[r],o=t(n,r);c[r]=o,o!==e&&p()}]},h=function(n,t){var e=v(t),o=r(i?b():b(n()),2),u=o[0],c=o[1];return i&&e&&c(n()),u},g={useState:function(n){return b(n,function(n,t){return"function"==typeof n?n(c[t]):n})},useEffect:d(),useLayoutEffect:d(!0),useReducer:function(n,t,e){var o=!i&&e?e(t):t,u=r(b(o),2),c=u[0],f=u[1];return[c,function(t){return f(n(c,t))}]},useRef:function(n){return r(b({current:n}),1)[0]},useMemo:h,useCallback:function(n,t){return h(function(){return n},t)}},w=function(n){for(var r=1;r<arguments.length;r++){var e=null!=arguments[r]?arguments[r]:{},o=Object.keys(e);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(e).filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),o.forEach(function(r){t(n,r,e[r])})}return n}({},g,u&&u(g)),O=function(){y.forEach(o),y.length=0,l=0,f=0};return{view:function(t){return n(t,w)},oncreate:function(){return O(),i=!0},onupdate:O,onremove:function(){e(s.values()).forEach(o)}}}},Object.defineProperty(n,"__esModule",{value:!0})});
//# sourceMappingURL=mithril-hookup.js.map
